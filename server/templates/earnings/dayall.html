{% extends "layout.html" %}
{% block body %}

<link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/ax5ui/ax5ui-grid/master/dist/ax5grid.css">
<script type="text/javascript" src="https://cdn.rawgit.com/ax5ui/ax5core/master/dist/ax5core.min.js"></script>
<script type="text/javascript" src="https://cdn.rawgit.com/ax5ui/ax5ui-grid/master/dist/ax5grid.min.js"></script>



<style>


  table {
    width: 100%;
    border: 0px;
  }
  .box{
    border: 1px solid #a3a2a2; margin :0.5em 0em 0em 0em;
  }
  th {
    text-align : left;
    background-color: #e7dfdf;
  }

</style>

<table class="box" >
    <tr>
        <th style="color:white; background-color: #347efd;">
         당일매출종합현황
        </th>
    </tr>
    <tr>
        <td>
            조회일자 <input class="datepickers" id="date" type="date" value="">

        </td>

    </tr>
</table>
<table style="border :0 ; float :left; width : 40%">
    <tr>
        <td>
            <table class="box">
                <tr>
                    <th >
                    매출종합
                    </th>
                </tr>
                <tr>
                    <td>
                       <div data-ax5grid="1-grid" data-ax5grid-config="{
                        header: { align: 'center' },
                        page: { display: false  }
                    }" style="height: 100px;"></div>
                    </td>

                </tr>
            </table>
            <table class="box">
                <tr>
                    <th>
                        결제수단별매출
                    </th>
                </tr>
                <tr>
                    <td>
                        <div data-ax5grid="2-grid" data-ax5grid-config="{
                        header: { align: 'center' },
                        showLineNumber: true,
                         page: { display: false  }
                    }" style="height: 250px;"></div>
                    </td>

                </tr>
            </table>
            <table class="box">
                <tr>
                    <th>
                    회원포인트 적립/사용현황
                    </th>
                </tr>
                <tr>
                    <td>
                        <div data-ax5grid="3-grid" data-ax5grid-config="{
                        header: { align: 'center' },
                        showLineNumber: true,
                         page: { display: false  }
                    }" style="height: 150px;"></div>
                    </td>

                </tr>
            </table>
        </td>

    </tr>
</table>
<table style="border :1px solid white; width : 60%">
<table class="box" style="width : 60%" >
    <tr>
        <th>
         상품별 매출현황
        </th>
    </tr>
    <tr>
        <td>
            <div data-ax5grid="4-grid" data-ax5grid-config="{
                        header: { align: 'center' },
                        showLineNumber: true,
                         page: { display: false  }
                    }" style="height: 400px;"></div>
        </td>

    </tr>

</table>
</table>
<script type="text/javascript">

    var  gridList1 = [];var  gridList2 = [];var  gridList3 = [];var  gridList4 = [];

    $.getJSON("{{ url_for('_earnings_dayall' ) }}/"+"{{ store_id }}", function (json) {
        _data = json;

    }).done(function () {

        var Grid1 = new ax5.ui.grid({
                target: $('[data-ax5grid="1-grid"]'),
                columns: [
                    {key: "a", label: "총매출", formatter: "money" ,align: "left"},
                    {key: "b", label: "할인", formatter: "money" ,align: "left"},
                    {key: "c", label: "실매출", formatter: "money" , align: "left"},
                    {key: "d", label: "취소금액", formatter: "money" ,align: "left" ,width: 90}
                    ]

            });

            Grid1.setData(gridList1);

        var Grid2 = new ax5.ui.grid({
                target: $('[data-ax5grid="2-grid"]'),
                columns: [
                    {key: "a", label: "수단", formatter: "money" ,align: "left"},
                    {key: "b", label: "승인금액", formatter: "money" ,align: "left"},
                    {key: "c", label: "구성비(%)", formatter: "money" , align: "left"},
                    ]

            });

            Grid2.setData(gridList2);

        var Grid3 = new ax5.ui.grid({
                target: $('[data-ax5grid="3-grid"]'),
                columns: [
                    {key: "a", label: "회원명", formatter: "money" ,align: "left"},
                    {key: "b", label: "적립", formatter: "money" ,align: "left"},
                    {key: "c", label: "사용", formatter: "money" , align: "left"},
                    ]

            });

            Grid3.setData(gridList3);

        var Grid4 = new ax5.ui.grid({
                target: $('[data-ax5grid="4-grid"]'),
                columns: [
                    {key: "a", label: "상품코드", formatter: "money" ,align: "left"},
                    {key: "b", label: "상품명", formatter: "money" ,align: "left"},
                    {key: "c", label: "수량", formatter: "money" , align: "left"},
                    {key: "b", label: "중량", formatter: "money" ,align: "left"},
                    {key: "c", label: "실매출", formatter: "money" , align: "left"},
                    ]

            });

            Grid4.setData(gridList4);

     });


            var now = new Date();
            var today = now.getFullYear() + '-' + ("0" + (now.getMonth() + 1)).slice(-2) + '-' + ("0" + now.getDate()).slice(-2);
            $("#date").val( today)




</script>

{% endblock %}

